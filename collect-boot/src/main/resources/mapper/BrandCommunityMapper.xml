<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tzj.collect.mapper.BrandCommunityMapper" >

<select id="getBrandCommunityList" parameterType="String" resultType="Map">
    SELECT
    (@rowNum:=@rowNum+1) AS dotid,
        a.latitude AS lat,
        a.longitude AS lng,
        8 AS value,
    a.address AS info,
    'ok' AS type,
    a.name_ AS name
    FROM
        sb_brand_community a,(SELECT (@rowNum :=0) ) b
    WHERE
        a.area_id = #{streetId}
    AND a.del_flag = 0
    AND a.is_open = 1
</select>

    <select id="getBrandCommunityLists" parameterType="String" resultType="Map">
    SELECT
        a.latitude AS lat,
        a.longitude AS lng,
        1 AS value,
        2 AS type
    FROM
        sb_brand_community a,(SELECT (@rowNum :=0) ) b
    WHERE
        a.area_id = #{streetId}
    AND a.del_flag = 0
    AND a.is_open = 1
</select>

</mapper>
